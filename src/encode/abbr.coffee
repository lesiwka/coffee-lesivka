import {applier, toTitleCase} from '../utils.coffee'
import {convert as rule_1_1} from './rule_1_1.coffee'
import {convert as rule_1_2} from './rule_1_2.coffee'
import {convert as rule_1_3} from './rule_1_3.coffee'
import {convert as rule_2_2} from './rule_2_2.coffee'

ABBR = [
  "БДЮТ",
  "БЮТ",
  "ВРЮ",
  "ВЯП",
  "ДЄС",
  "ДНЯЗ",
  "ДЮСШ",
  "ДЮСШОР",
  "ДЮФЛ",
  "ЄАВТ",
  "ЄАЕС",
  "ЄАНТК",
  "ЄАР",
  "ЄБА",
  "ЄБРР",
  "ЄВРОНЕСТ",
  "ЄВС",
  "ЄГФ",
  "ЄДАПС",
  "ЄДЕБО",
  "ЄДІ",
  "ЄДКІ",
  "ЄДР",
  "ЄДРПОУ",
  "ЄЕК",
  "ЄЕП",
  "ЄЕС",
  "ЄЕСУ",
  "ЄІБ",
  "ЄК",
  "ЄКА",
  "ЄКВ",
  "ЄКП",
  "ЄКПЛ",
  "ЄКРН",
  "ЄНП",
  "ЄНР",
  "ЄОВС",
  "ЄП",
  "ЄПС",
  "ЄР",
  "ЄРДР",
  "ЄРПН",
  "ЄРЦ",
  "ЄС",
  "ЄСВ",
  "ЄСВС",
  "ЄСПЛ",
  "ЄУ",
  "ЄХБ",
  "ЄЦ",
  "ЄЦБ",
  "ЗЄС",
  "КДЮСШ",
  "ЛЄ",
  "НАЗЯВО",
  "НБСЄ",
  "ОАЄ",
  "ОБСЄ",
  "ОДЮСШ",
  "ОІЯД",
  "ПАРЄ",
  "РЄ",
  "СДЮШО",
  "СДЮШОР",
  "СЄПН",
  "СРЮ",
  "СФРЮ",
  "ТЮГ",
  "УЄФА",
  "УЄЦАВ",
  "УЦОЯО",
  "ХВЄ",
  "ЦДЮТ",
  "ЦСВЯП",
  "ЦСЄ",
  "ЧЄ",
  "ЮВТ",
  "ЮНЕП",
  "ЮНЕСКО",
  "ЮНІДО",
  "ЮНІСЕФ",
  "ЮНКТАД",
  "ЮНОПС",
  "ЮНСІТРАЛ",
  "ЮРС",
  "ЮУАЕС",
  "ЮФ",
  "ЯМР",
]


abbr = applier(
  rule_1_1,
  rule_1_2,
  rule_1_3,
  rule_2_2,
)


export convert = (word) ->
  if word.word in ABBR
    word.word = (toTitleCase(abbr(c)) for c in word.word).join("")
    word.abbr = true
  return word
